
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div id="tabela_container" style="display: flex; justify-content: center; align-items: center; " class="panel-body dataTable_wrapper">
					<div class="form-group">
						<form id="formUpload" style='display: flex; flex-direction: column; align-items: center; justify-content: center;'>
							<div style="border: 2px solid #a70230; padding: 15px;">
								<label for="arquivoCSV">Selecionar arquivo CSV:</label>
								<input type="file" accept=".csv" id="arquivoCSV" name="arquivoCSV" />
							</div>
							<div style='margin-top: 1.5vh;'>
								<input type="submit" value="Importar" style='background-color: #a70230; color: #fff; padding: 7.5px; border-radius: 11.25%;' />
							</div>
						</form>
					</div>
			</div>
		</div>
	</div>
</div>


<script type="text/javascript">


	$("#formUpload").validate({
		
		
		rules: {
			
			arquivoCSV: {
				required: true
			}
			
		},
		
		submitHandler: function (form) {

			if ($.active) {
				return;
			}
			
			let opcoes = {
				
				url: "<%- root %>/aula/importar",
				method: "POST",
				data: new FormData(form),
				processData: false,
				contentType: false,

				success: function (dadosDeRetorno) {
					Notification.success("Upload realizado com sucesso! " + emoji.happy);
				},
				
				error: function () {
					Notification.error("Ocorreu algum erro...", true);
				}
				
			};
			
			$.ajax(opcoes);
		}
		
	});
</script>
